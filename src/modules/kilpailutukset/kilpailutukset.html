<template>
  <require from="custom-attributes/select2"></require>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/css/select2.min.css" rel="stylesheet" />

  <require from="components/noUiSlider/noUiSlider"></require>
  <require from="components/timeline/timeline"></require>

  <section class="w-max-1200 h-center Px-md Py-xl">

    <h1>${ 'kilpailutukset' | t }</h1>

    <form is="iron-form" class="clearfix Mb-xl">
    	<div class="row">
        <div class="xs-12 sm-6 Ps-0 Pe-0 r-sm-Pe-1rem">
          <label class="f-14">${ 'toimivaltainen-viranomainen' | t }
            <br/>
            <select select2.bind="organisaatioSelectOptions" value.bind="filter.organisaatiot" multiple="multiple" class="full-width My-md" change.trigger="onOrganisaatioListChange()">
              <option repeat.for="organisaatio of organisaatiot" value.bind="organisaatio.id">${organisaatio.nimi}</option>
            </select>
          </label>
        </div>
        <div class="xs-12 sm-6 Pe-0 Ps-0 r-sm-Ps-1rem Mt-md r-sm-Mt-0">
          <label class="f-14">${ 'toimivaltaryhma' | t }
            <br/>
            <select select2.bind="organisaatiolajiSelectOptions" value.bind="filter.organisaatiolajit" multiple="multiple" class="full-width My-md" change.trigger="onOrganisaatiolajiListChange()">
              <option repeat.for="organisaatiolaji of organisaatiolajit" value.bind="organisaatiolaji.id">${organisaatiolaji.nimi}</option>
            </select>
          </label>
        </div>
        <div class="xs-12 sm-6 md-4 Ps-0 Mt-lg Pe-0 r-sm-Pe-1rem">
          <label for="kohdearvo" class="f-14">${ 'kohteen-arvioitu-arvo' | t }</label>
          <div class="clearfix">
            <no-ui-slider id="kohdearvo" options.bind="kohdearvo" class="left Ms-md My-xs w-095"></no-ui-slider>
          </div>
        </div>
        <div class="xs-12 sm-6 md-4 Ps-0 r-sm-Ps-1rem Mt-lg Pe-0 r-sm-Pe-1rem">
          <label for="kalustokoko" class="f-14">${ 'kaluston-maara' | t }</label>
          <div class="clearfix">
            <no-ui-slider id="kalustokoko" options.bind="kalustokoko" class="left full-width Ms-md My-xs w-095"></no-ui-slider>
          </div>
        </div>
        <div class="xs-12 sm-6 md-4 Mt-lg Ps-0 r-md-Ps-1-rem">
          <label class="f-14">${ 'aikajanalla-naytettava-ajanjakso' | t }</label>
          <div class="My-xs f-14">
            <paper-toggle-button class="left Me-md" change.delegate="toggleKilpailukausi()" checked.two-way="isKilpailutuskausiChecked">${ 'kilpailutuskausi' | t }</paper-toggle-button>
            <paper-toggle-button change.delegate="toggleLiikennointikausi()" checked.two-way="isLiikennointikausiChecked">${ 'liikennointikausi' | t }</paper-toggle-button>
          </div>
        </div>
      </div>
    </form>

    <div class="clearfix Mb-md">
      <div repeat.for="label of labels" class="left Mb-xs" style="width: 300px;">
        <div class="flex flex-ai-c f-12">
          <div style="background-color: ${label.color}; width: 20px; height: 20px; border: ${ label.border ? label.border : '' }">
            &nbsp;
          </div>
          <div class="Ms-xs Me-xl">${ label.text }</div>
        </div>
      </div>
    </div>

    <p class="f-10 M-0">Voit zoomata aikajanaa hiiren rullalla. Aikajanan vieritys onnistuu liikuttamalla hiirtä vasen nappi pohjassa.</p>
    <timeline
      events.bind="timeline.events"
      kilpailutukset.bind="timeline.kilpailutukset"
      options.bind="timeline.options"
      organisaatiot.bind="timeline.organisaatiot">
    </timeline>

  </section>

</template>
